<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{% block title %} {%endblock title%}</title>
    <meta
      name="description"
      content="Saad Ali — Senior Website Developer | WordPress & Technical SEO | Portfolio"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <!-- AOS (Animate on Scroll) -->
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
    <link href="/static/style.css" rel="stylesheet" />
    <!-- Latest compiled and minified CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <div class="container">
      <header data-aos="fade-down">
        <div class="brand">
          <div class="logo">SA</div>
          <div>
            <div style="font-weight: 800">{{Name}}</div>
            <div style="font-size: 12px; color: var(--muted)">
              {{experties}}
            </div>
          </div>
        </div>

        <nav aria-label="Main navigation">
          <a href="/">Home</a>
          <a href="/about">About</a>
          <a href="/services">Services</a>
          <a href="/skills">Skills</a>
          <a href="/experience">Experience</a>
          <a href="/contact">Contact</a>
        </nav>
      </header>

      {% if messages %}
      <div class="alert-container">
        {% for message in messages %} {% if "success" in message.tags %}
        <div class="alert-box alert-success" data-aos="fade-down">
          <i class="fas fa-check-circle"></i>
          <span>{{ message }}</span>
        </div>
        {% elif "error" in message.tags %}
        <div class="alert-box alert-error" data-aos="fade-down">
          <i class="fas fa-times-circle"></i>
          <span>{{ message }}</span>
        </div>
        {% elif "warning" in message.tags %}
        <div class="alert-box alert-warning" data-aos="fade-down">
          <i class="fas fa-exclamation-triangle"></i>
          <span>{{ message }}</span>
        </div>
        {% else %}
        <div class="alert-box alert-info" data-aos="fade-down">
          <i class="fas fa-info-circle"></i>
          <span>{{ message }}</span>
        </div>
        {% endif %} {% endfor %}
      </div>
      {% endif %} {% block body%} {% endblock body %}

      <footer>
        © <span id="year"></span> Saad Ali — Built with HTML, CSS & JS •
        <span class="muted">Dark Theme</span>
      </footer>
    </div>

    <!-- Scripts -->
    <!-- GSAP -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"
      integrity=""
      crossorigin="anonymous"
    ></script>
    <!-- AOS -->
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script>
      // Init AOS
      AOS.init({
        duration: 700,
        easing: "ease-out-quart",
        once: false,
      });

      // GSAP subtle hero entrance
      gsap.from(".logo", { y: -10, opacity: 0, duration: 0.8, delay: 0.1 });
      gsap.from(".hero-card", {
        x: -20,
        opacity: 0,
        duration: 0.9,
        delay: 0.15,
      });
      gsap.from(".photo-wrap", {
        scale: 0.96,
        opacity: 0,
        duration: 0.9,
        delay: 0.2,
      });

      // Smooth scroll for nav links
      document.querySelectorAll('nav a, a[href^="#"]').forEach((a) => {
        a.addEventListener("click", function (e) {
          const href = this.getAttribute("href");
          if (!href || !href.startsWith("#")) return;
          e.preventDefault();
          const target = document.querySelector(href);
          if (target) {
            const top =
              target.getBoundingClientRect().top + window.pageYOffset - 20;
            gsap.to(window, {
              duration: 0.7,
              scrollTo: top,
              ease: "power2.out",
            });
          }
        });
      });

      // Simple contact form handler: validates and opens mailto fallback
      function handleFormSubmit(e) {
        e.preventDefault();
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const message = document.getElementById("message").value.trim();
        const status = document.getElementById("formStatus");

        if (!name || !email || !message) {
          status.textContent = "Please complete all fields.";
          status.style.color = "#ffb4b4";
          return false;
        }
        // Simple email validation
        if (!/^\S+@\S+\.\S+$/.test(email)) {
          status.textContent = "Please enter a valid email.";
          status.style.color = "#ffb4b4";
          return false;
        }

        // Try to open user's email client with prefilled content (mailto)
        const subject = encodeURIComponent(`Project inquiry from ${name}`);
        const body = encodeURIComponent(`${message}\n\n— ${name}\n${email}`);
        const mailto = `mailto:saad@example.com?subject=${subject}&body=${body}`;
        window.location.href = mailto;

        status.textContent = "Opening email client...";
        status.style.color = "var(--muted)";
        return false;
      }

      // Resume download simulated (replace link with real file)
      document
        .getElementById("downloadResume")
        .addEventListener("click", function () {
          // Replace the URL below with the real CV link (PDF)
          const resumeUrl = "https://example.com/Saad-Ali-CV.pdf";
          // open in new tab
          window.open(resumeUrl, "_blank");
        });

      // Set current year
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const wrapper = document.getElementById("alertsWrapper");
        if (!wrapper) return;

        // Animate in each alert and set auto-close
        const alerts = wrapper.querySelectorAll(".alert-box");
        alerts.forEach((alert, idx) => {
          // entrance animation
          gsap.fromTo(
            alert,
            { y: -20, opacity: 0, scale: 0.98 },
            {
              y: 0,
              opacity: 1,
              scale: 1,
              duration: 0.45,
              delay: idx * 0.08,
              ease: "power2.out",
            }
          );

          // auto close after 4s (customize)
          const autoCloseMs = 4000;
          const timer = setTimeout(() => dismissAlert(alert), autoCloseMs);

          // manual close button
          const closeBtn = alert.querySelector(".alert-close");
          if (closeBtn) {
            closeBtn.addEventListener("click", function (e) {
              clearTimeout(timer);
              dismissAlert(alert);
            });
          }
        });

        function dismissAlert(alertEl) {
          gsap.to(alertEl, {
            y: -20,
            opacity: 0,
            duration: 0.35,
            ease: "power1.in",
            onComplete: () => {
              if (alertEl && alertEl.parentNode)
                alertEl.parentNode.removeChild(alertEl);
            },
          });
        }
      });
    </script>
    <script>
  // Auto remove alerts after 4 seconds
  setTimeout(() => {
    document.querySelectorAll('.alert-box').forEach(alert => {
      alert.style.animation = 'fadeOut 0.6s ease forwards';
      setTimeout(() => alert.remove(), 600);
    });
  }, 4000);
</script>

    <!-- GSAP ScrollTo plugin (loaded dynamically from CDN if needed) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
  </body>
</html>
